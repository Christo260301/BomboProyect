@model BomboProyect.Models.Compras
@using BomboProyect.Models

@{
    ViewBag.Title = "Cancelar";
    var insumos = ViewBag.listC;
    var i = 0;
}

<h2>Cancelar</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>Compras</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.ComprasId)

        <div class="form-group">
            @Html.LabelFor(model => model.Status, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <div class="checkbox">
                    @Html.EditorFor(model => model.Status)
                    @Html.ValidationMessageFor(model => model.Status, "", new { @class = "text-danger" })
                </div>
            </div>
        </div>

    </div>

    <hr />
    <h4 class="mt-3">Insumos Comprados</h4>
    <table class="table mt-2 text-center">
        <thead class="table-dark">
            <tr>
                <th>Fecha de Caducidad</th>
                <th>Precio</th>
                <th>Cantidad Vendida</th>
                <th>Unidad de Medida</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var item in insumos)
            {
                <tr>

                    <td hidden><input type="hidden" value="@item.Insumos.InsumoId" name="[@i].InsumoId" /></td>
                    <td hidden><input type="hidden" value="@item.Cantidad" name="[@i].Existencias" /></td>
                    <td>@item.FechaCaduca</td>
                    <td>@item.Costo</td>
                    <td>@item.Cantidad</td>
                    <td>@item.Unidad</td>

                </tr>
                i++;
            }
        </tbody>
    </table>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Cancelar" class="btn btn-warning" />
        </div>
    </div>
}

<a href="@Url.Action("Index", "Compras")" class="btn btn-secondary">
    <i class="fa-solid fa-arrow-left"></i>
    <span>Regresar</span>
</a>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
